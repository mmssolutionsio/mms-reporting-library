@use "nswow";
@use "nswow/grid";

$numberSize: 50;

.srl-footnote {
  @include nswow.typography-footnote(true);
  color: nswow.colors-primary();

  break-before: auto;
  break-inside: avoid;
  break-after: auto;

  > span {
    position: relative;
  }

  &__number {
    color: nswow.colors-copy();
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: nswow.system-size-unit($numberSize);
    @include nswow.grid-media(print) {
      width: nswow.system-size-unit($numberSize, in);
    }
  }

  &__text {
    display: block;
    color: nswow.colors-primary();

    &:not(:first-child) {
      @each $breakpoint, $gutter in grid.$gutter {
        $gap: map-get($gutter, gap);
        $column-gap: map-get($gutter, column-gap);
        @if not $column-gap {
          $column-gap: $gap;
        }
        @if not $column-gap {
          $column-gap: 0;
        }
        @include nswow.grid-media($breakpoint){
          @if $breakpoint == print {
            margin-left: nswow.system-size-unit($numberSize + $column-gap, in);
          } @else {
            margin-left: nswow.system-size-unit($numberSize + $column-gap);
          }
        }
      }
    }
  }
}

.srl-article-root,
.ns-article
{
  > .srl-footnote {
    @include nswow.grid-container();
    @include nswow.grid-row();

    > span {
      @include nswow.grid-col(12, phone);
      @include nswow.grid-col(12, portrait);
      @include nswow.grid-col(12, landscape);
      @include nswow.grid-col(9, desktop);
      @include nswow.grid-offset(2, desktop);
      @include nswow.grid-col(9, print);
      @include nswow.grid-offset(2, print);
    }
  }
}
